// === WEHTTAMSNAPS - MODDING WINDOW RULES ===
// Optimized layout for SteamTinkerLaunch, Vortex, MO2, Wabbajack

// === STEAMTINKERLAUNCH (STL) ===
window-rule {
    match app-id="^steamtinkerlaunch$"
    match title="^SteamTinkerLaunch"
    open-floating true
    geometry-corner-radius 12
    default-width { fixed 1400 }
    default-height { fixed 900 }
    focus-ring { 
        width 3 
        active-color rgba(255, 140, 0, 0.8)
        inactive-color rgba(255, 140, 0, 0.3)
    }
    border {
        width 2
        active-color rgba(255, 140, 0, 0.9)
        inactive-color rgba(255, 140, 0, 0.5)
    }
}

// STL Terminal Windows
window-rule {
    match app-id="^steamtinkerlaunch$"
    match title="^SteamTinkerLaunch.*Terminal"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 800 }
    default-height { fixed 600 }
    default-column-width { proportion 0.4 }
}

// STL Configuration Windows
window-rule {
    match app-id="^steamtinkerlaunch$"
    match title="^SteamTinkerLaunch.*Config"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1000 }
    default-height { fixed 700 }
}

// STL Game Launch Windows
window-rule {
    match app-id="^steamtinkerlaunch$"
    match title="^SteamTinkerLaunch.*Launch"
    open-floating false
    default-column-width { proportion 0.8 }
}

// === VORTEX MOD MANAGER ===
window-rule {
    match app-id="^vortex$"
    match title="^Vortex"
    open-floating true
    geometry-corner-radius 12
    default-width { fixed 1600 }
    default-height { fixed 1000 }
    focus-ring { 
        width 3 
        active-color rgba(138, 43, 226, 0.8)
        inactive-color rgba(138, 43, 226, 0.3)
    }
    border {
        width 2
        active-color rgba(138, 43, 226, 0.9)
        inactive-color rgba(138, 43, 226, 0.5)
    }
}

// Vortex Game Selection Dialog
window-rule {
    match app-id="^vortex$"
    match title="^Vortex.*Select.*Game"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 800 }
    default-height { fixed 600 }
}

// Vortex Plugin/Mod Management
window-rule {
    match app-id="^vortex$"
    match title="^Vortex.*Plugin$|^Vortex.*Mod"
    open-floating true
    default-width { fixed 1200 }
    default-height { fixed 800 }
}

// Vortex Deployment Log
window-rule {
    match app-id="^vortex$"
    match title="^Vortex.*Deployment$|^Vortex.*Log"
    open-floating true
    default-width { fixed 1000 }
    default-height { fixed 700 }
}

// === MOD ORGANIZER 2 ===
window-rule {
    match app-id="^modorganizer2$|^mo2$"
    match title="^Mod Organizer"
    open-floating true
    geometry-corner-radius 12
    default-width { fixed 1500 }
    default-height { fixed 950 }
    focus-ring { 
        width 3 
        active-color rgba(34, 139, 34, 0.8)
        inactive-color rgba(34, 139, 34, 0.3)
    }
    border {
        width 2
        active-color rgba(34, 139, 34, 0.9)
        inactive-color rgba(34, 139, 34, 0.5)
    }
}

// MO2 Mod List
window-rule {
    match app-id="^modorganizer2$|^mo2$"
    match title="^Mod Organizer.*Mod List"
    open-floating true
    default-width { fixed 1200 }
    default-height { fixed 800 }
}

// MO2 Plugin Tab
window-rule {
    match app-id="^modorganizer2$|^mo2$"
    match title="^Mod Organizer.*Plugin"
    open-floating true
    default-width { fixed 1100 }
    default-height { fixed 750 }
}

// MO2 Archive Management
window-rule {
    match app-id="^modorganizer2$|^mo2$"
    match title="^Mod Organizer.*Archive"
    open-floating true
    default-width { fixed 1000 }
    default-height { fixed 700 }
}

// MO2 Executable Launch
window-rule {
    match app-id="^modorganizer2$|^mo2$"
    match title="^Mod Organizer.*Executables"
    open-floating true
    default-width { fixed 900 }
    default-height { fixed 650 }
}

// === WABBAJACK ===
window-rule {
    match app-id="^wabbajack$"
    match title="^Wabbajack"
    open-floating true
    geometry-corner-radius 12
    default-width { fixed 1400 }
    default-height { fixed 900 }
    focus-ring { 
        width 3 
        active-color rgba(255, 20, 147, 0.8)
        inactive-color rgba(255, 20, 147, 0.3)
    }
    border {
        width 2
        active-color rgba(255, 20, 147, 0.9)
        inactive-color rgba(255, 20, 147, 0.5)
    }
}

// Wabbajack Download Progress
window-rule {
    match app-id="^wabbajack$"
    match title="^Wabbajack.*Download$|^Wabbajack.*Progress"
    open-floating true
    default-width { fixed 1000 }
    default-height { fixed 600 }
}

// Wabbajack Mod Selection
window-rule {
    match app-id="^wabbajack$"
    match title="^Wabbajack.*Select$|^Wabbajack.*Choose"
    open-floating true
    default-width { fixed 1200 }
    default-height { fixed 800 }
}

// Wabbajack Installation Log
window-rule {
    match app-id="^wabbajack$"
    match title="^Wabbajack.*Log$|^Wabbajack.*Console"
    open-floating true
    default-width { fixed 1100 }
    default-height { fixed 750 }
}

// === GENERAL MODDING TOOLS ===

// Nexus Mod Manager (if used alongside Vortex/MO2)
window-rule {
    match app-id="^nexusmodmanager$|^nmm$"
    match title="^Nexus Mod Manager"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1200 }
    default-height { fixed 800 }
}

// LOOT (Load Order Optimization Tool)
window-rule {
    match app-id="^loot$"
    match title="^LOOT"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1300 }
    default-height { fixed 850 }
}

// xEdit (TESEdit/FOEdit/SSEEdit)
window-rule {
    match app-id="^xedit$|^tesedit$|^foedit$|^sseedit$"
    match title="^xEdit$|^TESVEdit$|^FO4Edit$|^SSEEdit$"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1400 }
    default-height { fixed 900 }
}

// Creation Kit / Creation Engine
window-rule {
    match app-id="^creationkit$|^ck64$"
    match title="^Creation Kit"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1600 }
    default-height { fixed 1000 }
}

// Bodyslide Studio
window-rule {
    match app-id="^bodyslide$|^outfitstudio$"
    match title="^BodySlide$|^Outfit Studio"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1400 }
    default-height { fixed 900 }
}

// FNIS / Nemesis Animation Tools
window-rule {
    match app-id="^fnis$|^nemesis$"
    match title="^FNIS$|^GenerateFNISForMod$|^Nemesis"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 900 }
    default-height { fixed 650 }
}

// === MODDING FILE MANAGERS ===

// Winetricks (for Wine modding setup)
window-rule {
    match app-id="^winetricks$"
    match title="^winetricks"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 800 }
    default-height { fixed 600 }
}

// Winecfg (Wine configuration)
window-rule {
    match app-id="^winecfg$"
    match title="^Wine configuration"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 700 }
    default-height { fixed 550 }
}

// Archive Viewer (7-zip, etc. for mod archives)
window-rule {
    match app-id="^p7zip$|^ark$|^file-roller$"
    match title="^Archive|^7-Zip|^ark"
    open-floating true
    default-width { fixed 900 }
    default-height { fixed 650 }
}

// === MODDING WEB TOOLS ===

// Modding websites as webapps
window-rule {
    match app-id="^nexusmods-webapp$"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1400 }
    default-height { fixed 900 }
}

window-rule {
    match app-id="^loot-webapp$"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1300 }
    default-height { fixed 850 }
}

// === MODDING TERMINALS ===

// Modding terminal windows (for CLI tools)
window-rule {
    match app-id="^ghostty$|^kitty$|^alacritty$"
    match title="^modding$|^stl$|^vortex$|^mo2"
    open-floating true
    geometry-corner-radius 8
    default-width { fixed 1000 }
    default-height { fixed 700 }
}

// === WORKSPACE ORGANIZATION ===

// Assign modding tools to specific workspaces
window-rule {
    match app-id="^steamtinkerlaunch$|^vortex$|^modorganizer2$|^wabbajack$"
    open-on-workspace 3
}

// Modding file managers on workspace 4
window-rule {
    match app-id="^thunar$|^dolphin$|^nautilus$"
    match title="^mods$|^download$|^tools"
    open-on-workspace 4
}

// Modding browsers on workspace 5
window-rule {
    match app-id="^brave-browser$|^firefox$"
    match title="^nexusmods$|^loot$|^modding"
    open-on-workspace 5
}

// === SPECIAL MODDING FEATURES ===

// Always keep modding tools on top when active
window-rule {
    match app-id="^steamtinkerlaunch$|^vortex$|^modorganizer2$"
    keep-above true
}

// Disable animations for modding tools (better performance)
window-rule {
    match app-id="^steamtinkerlaunch$|^vortex$|^modorganizer2$|^wabbajack$"
    animations-enabled false
}

// Force focus on modding dialogs
window-rule {
    match app-id="^steamtinkerlaunch$|^vortex$|^modorganizer2$"
    match title="^Progress$|^Downloading$|^Installing$|^Deploying$"
    force-focus true
    keep-above true
}