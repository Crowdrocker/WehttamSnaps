# === WEHTTAMSNAPS AUTOSTART CONFIGURATION ===
# GitHub: https://github.com/Crowdrocker

# Core system services
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = hash dbus-update-activation-environment 2>/dev/null && dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP HYPRLAND_INSTANCE_SIGNATURE

# Noctalia Shell (primary shell)
exec-once = qs -c noctalia-shell

# Waybar (backup shell)
exec-once = sleep 2 && waybar

# Notification daemon
exec-once = mako

# Clipboard management
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# Audio/PipeWire
exec-once = wireplumber
exec-once = sleep 1 && easyeffects --gapplication-service

# Polkit agent
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Authentication agent
exec-once = hyprpolkitagent

# Network applet
exec-once = sleep 1 && nm-applet --indicator

# Bluetooth applet
exec-once = sleep 1 && blueman-applet

# Theme and appearance
exec-once = swww-daemon &
exec-once = sleep 1 && swww img ~/.config/wehttamsnaps/wallpapers/default.jpg &
exec-once = ~/.config/wehttamsnaps/scripts/theme-apply.sh

# Gaming optimizations
exec-once = gamemoderun -c
exec-once = ~/.config/wehttamsnaps/scripts/gaming-setup.sh

# Performance monitoring
exec-once = auto-cpufreq --daemon
exec-once = thermald --no-daemon

# Welcome application (first run only)
exec-once = sleep 3 && ~/.config/wehttamsnaps/scripts/welcome.sh

# Window swallowing for terminals
exec-once = sleep 1 && hyprctl setcursor Bibata-Modern-Ice 24

# Input method (if needed)
# exec-once = fcitx5

# Screenshot tool daemon
exec-once = grimblast --wait

# Auto-start applications
exec-once = sleep 5 && discord --start-minimized
exec-once = sleep 7 && telegram-desktop -startintray

# Dropbox (if used)
# exec-once = dropbox start

# Syncthing (if used)
# exec-once = syncthing --no-browser

# Productivity tools
exec-once = sleep 10 && obsidian --background

# Development tools
exec-once = sleep 2 && code --background-mode

# Background services
exec-once = ~/.config/wehttamsnaps/scripts/startup-services.sh

# Error logging
exec-once = ~/.config/wehttamsnaps/scripts/error-handler.sh &

# Cleanup on exit
exec-once = ~/.config/wehttamsnaps/scripts/cleanup.sh &

# WehttamSnaps branding
exec-once = echo "WehttamSnaps v1.0.0 - Professional Arch Linux Setup"
exec-once = echo "GitHub: https://github.com/Crowdrocker"