# === WEHTTAMSNAPS GAMING CONFIGURATION ===
# GitHub: https://github.com/Crowdrocker
# Optimized for AMD RX 580 / NVIDIA GTX 1650 gaming

# Gaming environment variables
env = GAMING_DRI_PRIME=1
env = DXVK_HUD=fps,frametimes,version,devinfo,gpuload
env = DXVK_STATE_CACHE_PATH=/tmp/dxvk_cache
env = MANGOHUD=1
env = MANGOHUD_CONFIG=fps,frametime,cpu_temp,gpu_temp,cpu_mhz,gpu_mhz,ram,vram,position=top-left,background_alpha=0.4
env = RADV_PERFTEST=aco
env = VK_ICD_FILENAMES=/usr/share/vulkan/icd.d/radeon_icd.x86_64.json:/usr/share/vulkan/icd.d/radeon_icd.i686.json

# Steam optimization
windowrule = float, ^(steam)$
windowrule = center 1, ^(steam)$
windowrule = size 1280 720, ^(steam)$
windowrule = workspace 8, ^(steam)$

windowrule = float, ^(Steam)$
windowrule = center 1, ^(Steam)$
windowrule = size 1280 720, ^(Steam)$
windowrule = workspace 8, ^(Steam)$

# Lutris settings
windowrule = float, ^(lutris)$
windowrule = center 1, ^(lutris)$
windowrule = workspace 8, ^(lutris)$

# Gamescope settings
windowrule = fullscreen, ^(gamescope)$
windowrule = workspace 8 silent, ^(gamescope)$
windowrule = noborder, ^(gamescope)$
windowrule = nofocus, ^(gamescope)$

# Gaming workspace optimization
workspace = 8,border:false,rounding:false,decoration:rounding:false,decoration:border:false
workspace = 8,shadow:false,blur:false,animations:enabled=0

# Common game window rules
windowrule = fullscreen, ^(Minecraft.* 1\..*)$
windowrule = workspace 8 silent, ^(Minecraft.* 1\..*)$

windowrule = fullscreen, ^(minecraft-launcher)$
windowrule = workspace 8, ^(minecraft-launcher)$

windowrule = fullscreen, ^(PrismLauncher)$
windowrule = workspace 8, ^(PrismLauncher)$

windowrule = fullscreen, ^(heroic)$
windowrule = workspace 8 silent, ^(heroic)$

windowrule = fullscreen, ^(Proton)$
windowrule = workspace 8 silent, ^(Proton)$

# Division 2 specific fixes
windowrulev2 = fullscreen, title:^(The Division 2)$
windowrulev2 = workspace 8 silent, title:^(The Division 2)$
windowrulev2 = immediate, title:^(The Division 2)$
windowrulev2 = fullscreenstate 0 2, title:^(The Division 2)$

# Cyberpunk 2077 specific fixes
windowrulev2 = fullscreen, title:^(Cyberpunk 2077)$
windowrulev2 = workspace 8 silent, title:^(Cyberpunk 2077)$
windowrulev2 = immediate, title:^(Cyberpunk 2077)$
windowrulev2 = fullscreenstate 0 2, title:^(Cyberpunk 2077)$

# Gaming performance settings
# Disable animations in gaming workspace
animation = enabled, 0, 1, default, workspace:8
animation = enabled, 0, 1, default, onworkspace:8

# Gaming keybinds
bind = $mod SHIFT, G, exec, ~/.config/wehttamsnaps/scripts/toggle-gamemode.sh
bind = $mod ALT, G, exec, ~/.config/wehttamsnaps/scripts/launch-gamescope.sh
bind = $mod CTRL, G, exec, steam
bind = $mod CTRL SHIFT, G, exec, lutris

# Gaming performance scripts
exec-once = ~/.config/wehttamsnaps/scripts/gaming-setup.sh

# GPU performance settings
# For AMD GPUs
device {
    name = AMD
    output = preferred
}
# For NVIDIA GPUs (if applicable)
device {
    name = NVIDIA
    output = preferred
}

# VRR (Variable Refresh Rate) support for compatible displays
# Uncomment if your monitor supports it
# monitor =,preferred,auto,auto,highres,auto,vrr,1

# Input settings for gaming
input {
    repeat_rate = 50
    repeat_delay = 200
}

# Focus behavior for gaming
windowrulev2 = stayfocused, title:^(The Division 2)$
windowrulev2 = stayfocused, title:^(Cyberpunk 2077)$
windowrulev2 = stayfocused, title:^(Minecraft.* 1\..*)$

# Prevent accidental workspace switching during games
windowrulev2 = workspace 8, title:^(The Division 2)$
windowrulev2 = workspace 8, title:^(Cyberpunk 2077)$
windowrulev2 = workspace 8, title:^(Minecraft.* 1\..*)$

# Gaming notifications (disable during gameplay)
windowrulev2 = noblur, title:^(The Division 2)$
windowrulev2 = noblur, title:^(Cyberpunk 2077)$
windowrulev2 = noblur, title:^(Minecraft.* 1\..*)$